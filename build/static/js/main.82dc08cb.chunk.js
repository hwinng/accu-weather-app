(this["webpackJsonpweather-app"]=this["webpackJsonpweather-app"]||[]).push([[0],{31:function(e,t,a){},69:function(e,t,a){"use strict";a.r(t);var n=a(0),c=a.n(n),r=a(6),s=a.n(r),i=a(2),o=a.n(i),l=a(4),u=a(8),d=(a(31),a(32),a(5)),h=a.n(d),j=function(){var e=Object(l.a)(o.a.mark((function e(t,a){var n,c;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n="http://dataservice.accuweather.com/forecasts/v1/daily/5day/".concat(a,"?apikey=").concat(t,"&details=true"),e.prev=1,e.next=4,h.a.get(n);case 4:return c=e.sent,e.abrupt("return",c);case 8:e.prev=8,e.t0=e.catch(1),console.log("get forcast failed",e.t0);case 11:case"end":return e.stop()}}),e,null,[[1,8]])})));return function(t,a){return e.apply(this,arguments)}}(),p=a(24),b=function(){var e=Object(l.a)(o.a.mark((function e(t){var a,n,c,r,s,i;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,h.a.get("https://www.cloudflare.com/cdn-cgi/trace");case 2:return a=e.sent,n=a.data.replace(/(\r\n|\n|\r)/gm,","),c=n.substring(n.indexOf("ip")),r=c.substring(3,c.indexOf(",")),s="http://dataservice.accuweather.com/locations/v1/cities/ipaddress?apikey=".concat(t,"&q=").concat(r),e.prev=7,e.next=10,h.a.get(s);case 10:return i=e.sent,e.abrupt("return",{locationKey:i.data.Key,locationName:i.data.EnglishName,parentCity:i.data.ParentCity,country:i.data.Country,timezone:i.data.TimeZone});case 14:e.prev=14,e.t0=e.catch(7),console.log("get current location failed",e.t0);case 17:case"end":return e.stop()}}),e,null,[[7,14]])})));return function(t){return e.apply(this,arguments)}}(),m=function(){var e=Object(l.a)(o.a.mark((function e(t){var a,n,c,r,s,i;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a="http://dataservice.accuweather.com/locations/v1/topcities/150?apikey=".concat(t),e.prev=1,e.next=4,h.a.get(a);case 4:n=e.sent,c=[],r=Object(p.a)(n.data);try{for(r.s();!(s=r.n()).done;)i=s.value,c.push({label:i.AdministrativeArea.EnglishName,value:i.Country.EnglishName,code:i.Key})}catch(o){r.e(o)}finally{r.f()}return e.abrupt("return",c);case 11:e.prev=11,e.t0=e.catch(1),console.log("get top cities failed",e.t0);case 14:case"end":return e.stop()}}),e,null,[[1,11]])})));return function(t){return e.apply(this,arguments)}}(),f=a(25),x=a(1),y=function(e){var t=e.locations,a=e.handleOnChange;return Object(x.jsx)("div",{className:"search-bar",children:Object(x.jsx)(f.a,{classNamePrefix:"select",placeholder:"Search a city...",isSearchable:"true",name:"cities",options:t,onChange:function(e){return a(e.label,e.code)}})})},g=a(7),O=a.n(g),v=function(e){var t=e.selectedDay,a=e.dayIndex,n=e.dayDate,c=e.dayIcon,r=e.dayMinTemp,s=e.dayMaxTemp,i=e.handleDaySelection;return Object(x.jsx)("div",{className:"single-day ".concat(t===a?"selected":""),onClick:i,children:Object(x.jsxs)("div",{className:"flex-row bd-highlight m-2 ",children:[Object(x.jsx)("h6",{children:Object(x.jsx)(O.a,{format:"ddd",children:n})}),Object(x.jsx)("img",{className:"small-image",src:"https://developer.accuweather.com/sites/default/files/".concat(c>=10?c:"0"+c,"-s.png"),alt:"weather-icon"}),Object(x.jsx)("h6",{children:"".concat(s,"\xb0C")}),Object(x.jsx)("h6",{children:"".concat(r,"\xb0C")})]})})},w=function(e){return 5*(Number(e)-32)/9},N=function(e){var t=e.weatherData,a=e.selectedCity,n=e.selectedDay,c=e.handleDaySelection;return Object(x.jsxs)("div",{className:"container gray text-white",children:[t[0]?Object(x.jsx)("div",{className:"d-flex p-2 bd-highlight justify-content-center top-weather",children:Object(x.jsxs)("div",{className:"flex-row bd-highlight",children:[Object(x.jsx)("h4",{children:a}),Object(x.jsx)(O.a,{format:"dddd",children:t[n].Date}),Object(x.jsx)(O.a,{className:"d-block",format:"DD/MM/YYYY",children:t[n].Date}),Object(x.jsxs)("div",{className:"flex-row bd-highlight",children:[Object(x.jsx)("img",{src:"https://developer.accuweather.com/sites/default/files/".concat(t[n].Day.Icon>=10?t[n].Day.Icon:"0"+t[n].Day.Icon,"-s.png"),alt:"weather-icon"}),Object(x.jsx)("span",{style:{display:"block",marginBottom:"1rem"},children:t[n].Day.IconPhrase})]})]})}):null,Object(x.jsx)("div",{className:"d-flex p-2 bd-highlight justify-content-center bottom-weather",style:{marginTop:"5rem"},children:t.map((function(e,t){return Object(x.jsx)(v,{selectedDay:n,dayIndex:t,dayDate:e.Date,dayIcon:e.Day.Icon,dayMaxTemp:w(e.Temperature.Maximum.Value).toFixed(1),dayMinTemp:w(e.Temperature.Minimum.Value).toFixed(1),handleDaySelection:function(){return c(t)}},e.EpochDate)}))})]})},D=a.p+"static/media/avatar2.4dfa54a1.png",_=a(10),k=function(){var e={color:"grey",fontSize:"2rem",marginRight:"1rem"};return Object(x.jsxs)("div",{className:"about",children:[Object(x.jsxs)("section",{className:"about__intro",children:[Object(x.jsx)("a",{href:"https://github.com/hwinng",rel:"noreferrer",target:"_blank",children:Object(x.jsx)("img",{className:"about__intro___avatar",src:D,alt:"avatar",width:"128",height:"128"})}),Object(x.jsx)("div",{children:Object(x.jsx)("span",{children:"Phillip Nguyen"})}),Object(x.jsx)("div",{className:"about__intro___text",children:Object(x.jsx)("p",{children:"Hi! My name is Nguyen Van Huyen, just call me as Phillip. I am currently studying at Hanoi University as third-year student. I architect and build client-side applications with Angular, React, and TypeScript."})})]}),Object(x.jsxs)("section",{className:"about__media",children:[Object(x.jsx)("a",{href:"https://github.com/hwinng",rel:"noreferrer",target:"_blank",children:Object(x.jsx)(_.b,{className:"icon",style:e})}),Object(x.jsx)("a",{href:"https://www.facebook.com/moc.huyenn.3/",rel:"noreferrer",target:"_blank",children:Object(x.jsx)(_.a,{className:"icon",style:e})}),Object(x.jsx)("a",{href:"https://www.instagram.com/?hl=en",rel:"noreferrer",target:"_blank",children:Object(x.jsx)(_.c,{className:"icon",style:e})})]}),Object(x.jsx)("section",{className:"about__footer",children:Object(x.jsx)("div",{children:Object(x.jsx)("p",{style:{fontStyle:"italic"},children:"Made with love from Hanu."})})})]})},C="5uQvhf5uZZh4jvah6gmPw1sGGK3u3vIj";var S=function(){var e=Object(n.useState)("Hanoi"),t=Object(u.a)(e,2),a=t[0],c=t[1],r=Object(n.useState)("0"),s=Object(u.a)(r,2),i=s[0],d=s[1],h=Object(n.useState)([]),p=Object(u.a)(h,2),f=p[0],g=p[1],O=Object(n.useState)([]),v=Object(u.a)(O,2),w=v[0],D=v[1];Object(n.useEffect)((function(){function e(){return(e=Object(l.a)(o.a.mark((function e(){var t,a;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,m(C);case 2:return t=e.sent,e.next=5,b(C);case 5:return a=e.sent,g(t),e.next=9,S(C,a.parentCity.Key);case 9:case"end":return e.stop()}}),e)})))).apply(this,arguments)}document.title="Hanu-IWS Weather",function(){e.apply(this,arguments)}()}),[]);var _=function(){var e=Object(l.a)(o.a.mark((function e(t,a){return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return c(t),e.next=3,S(C,a);case 3:case"end":return e.stop()}}),e)})));return function(t,a){return e.apply(this,arguments)}}(),S=function(){var e=Object(l.a)(o.a.mark((function e(t,a){var n,c;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,j(t,a);case 2:n=e.sent,c=n.data.DailyForecasts,D(c);case 5:case"end":return e.stop()}}),e)})));return function(t,a){return e.apply(this,arguments)}}();return Object(x.jsxs)("div",{className:"App",children:[Object(x.jsx)("section",{className:"sider",children:Object(x.jsx)(k,{})}),Object(x.jsxs)("section",{className:"weather-app",children:[Object(x.jsx)("h1",{style:{textAlign:"left",marginLeft:"2rem",paddingTop:"1rem",fontFamily:"monospace"},children:"Hanu Forcast"}),Object(x.jsx)(y,{locations:f,handleOnChange:_}),0===w.length?null:Object(x.jsx)(N,{handleDaySelection:function(e){d(e)},selectedDay:i,selectedCity:a,weatherData:w,locations:f})]})]})},I=function(e){e&&e instanceof Function&&a.e(3).then(a.bind(null,70)).then((function(t){var a=t.getCLS,n=t.getFID,c=t.getFCP,r=t.getLCP,s=t.getTTFB;a(e),n(e),c(e),r(e),s(e)}))};s.a.render(Object(x.jsx)(c.a.StrictMode,{children:Object(x.jsx)(S,{})}),document.getElementById("root")),I()}},[[69,1,2]]]);
//# sourceMappingURL=main.82dc08cb.chunk.js.map