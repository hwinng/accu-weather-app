(this["webpackJsonpweather-app"]=this["webpackJsonpweather-app"]||[]).push([[0],{30:function(e,t,a){},68:function(e,t,a){"use strict";a.r(t);var n=a(0),c=a.n(n),r=a(5),s=a.n(r),i=a(2),o=a.n(i),l=a(4),u=a(7),d=(a(30),a(31),a(6)),h=a.n(d),p=function(){var e=Object(l.a)(o.a.mark((function e(t,a){var n,c;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n="http://dataservice.accuweather.com/forecasts/v1/daily/5day/".concat(a,"?apikey=").concat(t,"&details=true"),e.prev=1,e.next=4,h.a.get(n);case 4:return c=e.sent,e.abrupt("return",c);case 8:e.prev=8,e.t0=e.catch(1),console.log("get forcast failed",e.t0);case 11:case"end":return e.stop()}}),e,null,[[1,8]])})));return function(t,a){return e.apply(this,arguments)}}(),f=a(23),j=function(){var e=Object(l.a)(o.a.mark((function e(t,a){var n,c;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n="http://dataservice.accuweather.com/locations/v1/cities/ipaddress?apikey=".concat(t,"&q=").concat(a),e.prev=1,e.next=4,h.a.get(n);case 4:return c=e.sent,e.abrupt("return",{locationKey:c.data.Key,locationName:c.data.EnglishName,parentCity:c.data.ParentCity,country:c.data.Country,timezone:c.data.TimeZone});case 8:e.prev=8,e.t0=e.catch(1),console.log("get current location failed",e.t0);case 11:case"end":return e.stop()}}),e,null,[[1,8]])})));return function(t,a){return e.apply(this,arguments)}}(),m=function(){var e=Object(l.a)(o.a.mark((function e(t){var a,n,c,r,s,i;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a="http://dataservice.accuweather.com/locations/v1/topcities/150?apikey=".concat(t),e.prev=1,e.next=4,h.a.get(a);case 4:n=e.sent,c=[],r=Object(f.a)(n.data);try{for(r.s();!(s=r.n()).done;)i=s.value,c.push({label:i.AdministrativeArea.EnglishName,value:i.Country.EnglishName,code:i.Key})}catch(o){r.e(o)}finally{r.f()}return e.abrupt("return",c);case 11:e.prev=11,e.t0=e.catch(1),console.log("get top cities failed",e.t0);case 14:case"end":return e.stop()}}),e,null,[[1,11]])})));return function(t){return e.apply(this,arguments)}}(),y=a(24),b=a(1),x=function(e){var t=e.locations,a=e.handleOnChange;return Object(b.jsx)("div",{className:"search-bar",children:Object(b.jsx)(y.a,{classNamePrefix:"select",placeholder:"Search a city...",isSearchable:"true",name:"cities",options:t,onChange:function(e){return a(e.label,e.code)}})})},v=a(8),g=a.n(v),O=function(e){var t=e.selectedDay,a=e.dayIndex,n=e.dayDate,c=e.dayIcon,r=e.dayMinTemp,s=e.dayMaxTemp,i=e.handleDaySelection;return Object(b.jsx)("div",{className:"single-day ".concat(t===a?"selected":""),onClick:i,children:Object(b.jsxs)("div",{className:"flex-row bd-highlight m-2 ",children:[Object(b.jsx)("h6",{children:Object(b.jsx)(g.a,{format:"ddd",children:n})}),Object(b.jsx)("img",{className:"small-image",src:"https://developer.accuweather.com/sites/default/files/".concat(c>=10?c:"0"+c,"-s.png"),alt:"weather-icon"}),Object(b.jsx)("h6",{children:"".concat(s,"\xb0C")}),Object(b.jsx)("h6",{children:"".concat(r,"\xb0C")})]})})},w=function(e){return 5*(Number(e)-32)/9},D=function(e){var t=e.weatherData,a=e.selectedCity,n=e.selectedDay,c=e.handleDaySelection;return Object(b.jsxs)("div",{className:"container gray text-white",children:[t[0]?Object(b.jsx)("div",{className:"d-flex p-2 bd-highlight justify-content-center top-weather",children:Object(b.jsxs)("div",{className:"flex-row bd-highlight",children:[Object(b.jsx)("h4",{children:a}),Object(b.jsx)(g.a,{format:"dddd",children:t[n].Date}),Object(b.jsxs)("div",{className:"flex-row bd-highlight",children:[Object(b.jsx)("img",{src:"https://developer.accuweather.com/sites/default/files/".concat(t[n].Day.Icon>=10?t[n].Day.Icon:"0"+t[n].Day.Icon,"-s.png"),alt:"weather-icon"}),Object(b.jsx)("p",{children:t[n].Day.IconPhrase})]})]})}):null,Object(b.jsx)("div",{className:"d-flex p-2 bd-highlight justify-content-center bottom-weather",style:{marginTop:"5rem"},children:t.map((function(e,t){return Object(b.jsx)(O,{selectedDay:n,dayIndex:t,dayDate:e.Date,dayIcon:e.Day.Icon,dayMaxTemp:w(e.Temperature.Maximum.Value).toFixed(1),dayMinTemp:w(e.Temperature.Minimum.Value).toFixed(1),handleDaySelection:function(){return c(t)}},e.EpochDate)}))})]})},C="5uQvhf5uZZh4jvah6gmPw1sGGK3u3vIj",N="42.113.121.64";var k=function(){var e=Object(n.useState)("Hanoi"),t=Object(u.a)(e,2),a=t[0],c=t[1],r=Object(n.useState)("0"),s=Object(u.a)(r,2),i=s[0],d=s[1],h=Object(n.useState)([]),f=Object(u.a)(h,2),y=f[0],v=f[1],g=Object(n.useState)([]),O=Object(u.a)(g,2),w=O[0],k=O[1];Object(n.useEffect)((function(){function e(){return(e=Object(l.a)(o.a.mark((function e(){var t,a;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,m(C);case 2:return t=e.sent,e.next=5,j(C,N);case 5:return a=e.sent,v(t),e.next=9,S(C,a.parentCity.Key);case 9:case"end":return e.stop()}}),e)})))).apply(this,arguments)}!function(){e.apply(this,arguments)}()}),[]);var I=function(){var e=Object(l.a)(o.a.mark((function e(t,a){return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return c(t),e.next=3,S(C,a);case 3:case"end":return e.stop()}}),e)})));return function(t,a){return e.apply(this,arguments)}}(),S=function(){var e=Object(l.a)(o.a.mark((function e(t,a){var n,c;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,p(t,a);case 2:n=e.sent,c=n.data.DailyForecasts,k(c);case 5:case"end":return e.stop()}}),e)})));return function(t,a){return e.apply(this,arguments)}}();return Object(b.jsxs)("div",{className:"App",children:[Object(b.jsx)("h1",{style:{textAlign:"left",marginLeft:"2rem",paddingTop:"1rem",fontFamily:"monospace"},children:"Weather Forcast"}),Object(b.jsx)(x,{locations:y,handleOnChange:I}),0===w.length?null:Object(b.jsx)(D,{handleDaySelection:function(e){console.log(e),d(e)},selectedDay:i,selectedCity:a,weatherData:w})]})},I=function(e){e&&e instanceof Function&&a.e(3).then(a.bind(null,69)).then((function(t){var a=t.getCLS,n=t.getFID,c=t.getFCP,r=t.getLCP,s=t.getTTFB;a(e),n(e),c(e),r(e),s(e)}))};s.a.render(Object(b.jsx)(c.a.StrictMode,{children:Object(b.jsx)(k,{})}),document.getElementById("root")),I()}},[[68,1,2]]]);
//# sourceMappingURL=main.9fe06069.chunk.js.map